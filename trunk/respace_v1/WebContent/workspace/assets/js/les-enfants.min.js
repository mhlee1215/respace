/*! Les Enfants - v1.0.3 - 2013-09-20
 * http://les-enfants.tv/
 * Copyright (c) 2013 Deux Huit Huit (http://www.deuxhuithuit.com/);
 * Licensed Private Deux Huit Huit */
! function (a) {
    "use strict";
    a.fn.extend({
        blankLink: function () {
            a(this).each(function () {
                var b = a(this),
                    c = b.attr("href");
                c && /^https?:\/\//.test(c) && "_blank" != b.attr("target") && (/^:\/\//.test(c) || b.attr("target", "_blank"))
            })
        }
    })
}(jQuery),
function (a) {
    "use strict";
    var b = function (b, c) {
        a("a", a(c.page.key())).blankLink()
    }, c = function () {}, d = {
            page: {
                enter: b
            }
        };
    App.modules.exports("blankLinkModule", {
        init: c,
        actions: function () {
            return d
        }
    })
}(jQuery),
function (a) {
    "use strict";
    var b = function (b, c) {
        var d = c.closest(".page"),
            e = b ? "addClass" : "removeClass",
            f = c.data("realisateur"),
            g = a(".fiches-realisateurs-container", d),
            h = a('.fiches-realisateurs-item[data-realisateur="' + f + '"]', d);
        b || (h.addClass("close-animation"), g.addClass("close-animation")), h[e]("selected"), g[e]("show-fiche"), h.transitionEnd(function () {
            h.removeClass("close-animation")
        }, h.selector), g.transitionEnd(function () {
            g.removeClass("close-animation")
        }, g.selector)
    }, c = function () {
            a.mobile || (a("#site").on("mouseenter", ".menu-realisateurs .menu-item", function () {
                b(!0, a(this))
            }), a("#site").on("mouseleave", ".menu-realisateurs .menu-item", function () {
                b(!1, a(this))
            }))
        }, d = {};
    App.modules.exports("componentFichesRealisateurs", {
        init: c,
        actions: function () {
            return d
        }
    })
}(jQuery),
function (a) {
    "use strict";
    var b = function () {
        var b = a(this),
            c = b.closest(".site-sidebar-menu"),
            d = a(".menu-item", c);
        d.removeClass("selected"), b.addClass("selected")
    }, c = function () {}, d = function () {
            a("#site").on("click", ".site-sidebar-menu nav:not(.menu-recherche) .menu-item", b), a.mobile && (a(".site-sidebar-menu").addClass("closed"), a("#site-sidebar-show-hide-container ").addClass("closed"), a("#site-sidebar-arrow-container ").addClass("closed"), a("#site-sidebar-home-container ").addClass("closed")), a.positionMenu()
        }, e = {
            page: {
                entering: c
            }
        };
    App.modules.exports("componentMenu", {
        init: d,
        actions: function () {
            return e
        }
    }), a.positionMenu = function () {
        var b = a("#site-pages").find(".site-menu-secondaire-container");
        b.each(function () {
            var c = a(this).find(".content"),
                d = c.children(),
                e = 0,
                f = b.height();
            d.each(function () {
                e += a(this).outerHeight(!0)
            }), f > e && c.cssNoAnim({
                position: "absolute",
                top: "50%",
                left: "0px",
                marginTop: -(e / 2) + "px"
            }), a(".nano").nanoScroller()
        })
    }
}(jQuery),
function (a) {
    "use strict";
    var b = function (b, c) {
        var d = c.closest(".videos-list-item"),
            e = a(".img-overlay", d),
            f = a(".videos-list-item-titre", d),
            g = a(".videos-list-item-realisateur", d),
            h = a(".videos-list-item-agence", d),
            i = a(".videos-list-item-mot-cle", d),
            j = b ? "addClass" : "removeClass",
            k = b ? 1 : 0;
        b || (e.addClass("close-animation"), f.addClass("close-animation"), g.addClass("close-animation"), h.addClass("close-animation"), i.addClass("close-animation")), e.transitionEnd(function () {
            e.removeClass("close-animation")
        }, e.selector), f.transitionEnd(function () {
            f.removeClass("close-animation")
        }, f.selector), g.transitionEnd(function () {
            g.removeClass("close-animation")
        }, g.selector), h.transitionEnd(function () {
            h.removeClass("close-animation")
        }, h.selector), i.transitionEnd(function () {
            i.removeClass("close-animation")
        }, i.selector), e[j]("hover-state"), f[j]("hover-state").css({
            opacity: k
        }), g[j]("hover-state").css({
            opacity: k
        }), h[j]("hover-state").css({
            opacity: k
        }), i[j]("hover-state").css({
            opacity: k
        })
    }, c = function (b, c) {
            if (!a.safari) {
                var d = b ? "addClass" : "removeClass",
                    e = b ? "middle-state" : "final-state",
                    f = b ? "final-state" : "middle-state",
                    g = c.find(".hover-bg");
                a.removeFromTransition(g.selector), g.transitionEnd(function () {
                    g[d](f)
                }, g.selector)[d](e)
            }
        }, d = function (b) {
            if (a.safari) {
                var c = b.find(".videos-list-item-mot-cle"),
                    d = b.find(".videos-list-item-agence"),
                    e = b.find(".item-detail-link-realisateur");
                c.addClass("safari"), d.addClass("safari"), e.addClass("safari")
            }
        }, e = function () {
            a.mobile || (a("#site").on("mouseenter", "a.videos-list-item-link-image", function () {
                b(!0, a(this))
            }), a("#site").on("mouseleave", "a.videos-list-item-link-image", function () {
                b(!1, a(this))
            }), a("#site").on("mouseenter", "a.item-detail-link-realisateur", function () {
                c(!0, a(this))
            }), a("#site").on("mouseleave", "a.item-detail-link-realisateur", function () {
                c(!1, a(this))
            })), a.hideVideos(a("#site"))
        }, f = {};
    App.modules.exports("componentVideosList", {
        init: e,
        actions: function () {
            return f
        }
    }), a.hideVideos = function (a) {
        var b = a.find(".videos-list-item"),
            c = b.find(".videos-list-item-overlay");
        b.length > 1 && (c.css({
            display: ""
        }), b.addClass("hidden"))
    }, a.showVideosByTile = function (b) {
        var c = b.find(".videos-list-item"),
            d = b.find(".videos-list");
        c.length > 0 && (d.css({
            visibility: "visible"
        }), c.each(function (b) {
            var c = a(this),
                d = c.find(".videos-list-item-overlay");
            d.delay(150 * b).fadeOut(800, function () {
                c.removeClass("hidden")
            })
        }))
    }, a.resizeAndPositionVideosItems = function (b, c, e) {
        var f = b.find(".videos-list-item"),
            g = a("#site-pages").width(),
            h = e ? e : a.mobile ? 2 : 3,
            i = ~~Math.ceil(g / h),
            j = ~~Math.floor(i * (9 / 16)),
            k = f.hasClass("featured"),
            l = 0;
        b.data("nbCol", h), f.each(function (b) {
            var d = a(this),
                e = b + 1,
                f = d.hasClass("featured"),
                g = ~~Math.ceil(e / h) - 1,
                m = 0 === e % h ? h - 1 : e % h - 1,
                n = j * g,
                o = i * m,
                p = f ? 2 * j : j,
                q = f ? 2 * i : i,
                r = d.hasClass("selected");
            k & e > 3 ? (g += 1, n = j * g) : k && (2 == e ? (m += 1, o = i * m) : 3 == e && (g += 1, n = j * g)), r && (l = d.find(".videos-list-item-detail").height());
            var s = r ? {
                width: q + "px",
                height: p + l + "px",
                top: n + "px",
                left: o + "px"
            } : {
                width: q + "px",
                height: p + "px",
                top: n + l + "px",
                left: o + "px"
            }, t = {
                    width: q + "px",
                    height: p + "px",
                    top: n + "px",
                    left: o + "px"
                };
            if (d.cssNoAnim(s).data("css", t), f && c) {
                var u = d.find(".videos-list-item-preview");
                u.jPlayer("option", {
                    size: {
                        width: q + "px",
                        height: p + "px"
                    }
                })
            }
        }), f.find("img[data-src-format]").jitImage(), a.safari && d(f)
    }
}(jQuery),
function (a) {
    "use strict";
    var b = function (b, c) {
        a(c.page.key()).find("img[data-src-format]").jitImage()
    }, c = function () {
            return {
                page: {
                    enteringEnd: b
                }
            }
        };
    App.modules.exports("jitimage", {
        actions: c
    })
}(jQuery),
function (a) {
    "use strict";
    var b = function (b) {
        var c = a(this),
            d = c.attr("href");
        return b.ctrlKey ? void 0 : (App.mediator.goto(d), window.pd(b))
    }, c = function (b) {
            var c = a(this),
                d = c.attr("href");
            return App.mediator.toggle(d), window.pd(b)
        }, d = function () {
            return {}
        }, e = function () {
            a("#site").on("click", 'a[href^="/"]:not([href^="/workspace"]):not([data-action^="full"]):not([data-action^="toggle"]):not([data-action^="none"])', b), a("#site").on("click", 'a[href^="/"][data-action^="toggle"]', c)
        };
    App.modules.exports("links", {
        init: e,
        actions: d
    })
}(jQuery),
function (a) {
    "use strict";
    var b = function () {
        var b = a("#loading-container");
        if (b) {
            var c = b.find("#loading-image-content"),
                d = b.find("#loading-logo-texte"),
                e = b.find("#loading-texte");
            b.addClass("loaded"), c.addClass("loaded"), d.addClass("loaded"), e.addClass("loaded"), e.transitionEnd(function () {
                a("#loading").delay(1400).fadeOut(700, function () {
                    b.fadeOut(700, function () {
                        App.mediator.notify("page.loadingEnd"), b.remove(), a.showVideosByTile(a("#site-pages"))
                    })
                })
            }, e.selector)
        }
        a.showVideosByTile(a("#site-pages"))
    };
    App.modules.exports("jitimage", {
        init: b
    })
}(jQuery),
function (a) {
    "use strict";
    var b = {
        embed: function (a, b) {
            var c = this.getIframe(b);
            c.attr("width", "100%"), c.attr("height", a.height() + "px"), c.attr("allowtransparency", "true"), a.append(c)
        },
        getIframe: function () {
            return a("<iframe/>")
        },
        play: function () {},
        pause: function () {}
    }, c = a.extend({}, b, {
            getIframe: function (b) {
                return a('<iframe src="http://player.vimeo.com/video/' + b + "?autoplay=1&api=1" + '"/>')
            },
            play: function (b) {
                var c = window.$f(a("iframe", b).get(0));
                a.mobile || c.api("play")
            },
            pause: function (b) {
                var c = window.$f(a("iframe", b).get(0));
                c.api("pause")
            }
        }),
        d = a.extend({}, b, {
            getIframe: function (b) {
                var c = b.indexOf("v=") > 0 ? b.substring(b.indexOf("v=") + 2) : b.substring(b.lastIndexOf("/")),
                    d = a('<iframe id="youtube-player-' + c + '" src="http://www.youtube.com/embed/' + c + "?feature=oembed&autoplay=1&enablejsapi=1&version=3" + '"/>');
                return this._player = new window.YT.Player(d.get(0)), d
            },
            play: function () {
                this._player.playVideo()
            },
            pause: function () {
                this._player.pauseVideo()
            }
        }),
        e = {
            Vimeo: c,
            YouTube: d
        }, f = function (a, b) {
            var c = b.data("videoId"),
                d = e[b.data("videoProvider")];
            d.embed(b, c)
        }, g = function (a, b) {
            var c = (b.data("videoId"), e[b.data("videoProvider")]);
            c.play(b)
        }, h = function (b, c) {
            c.each(function (b, c) {
                var d = a(c),
                    f = d.data("videoId"),
                    g = e[d.data("videoProvider")];
                g && f && d.find("iframe").length && g.pause(d)
            })
        }, i = function () {}, j = {
            loadVideo: f,
            playVideo: g,
            pauseVideo: h
        };
    App.modules.exports("oEmbed", {
        init: i,
        actions: function () {
            return j
        }
    })
}(jQuery),
function (a) {
    "use strict";
    var b = [],
        c = function (b, c) {
            var d = b.currentPage,
                e = b.nextPage,
                f = a(e.key()),
                g = a(d.key()),
                h = function () {
                    App.modules.notify("page.entering", {
                        page: e,
                        route: b.route
                    }), f.css({
                        opacity: 1,
                        display: "block"
                    }), g.css({
                        display: "none"
                    }), e.enter(b.enterNext), App.callback(c)
                };
            App.modules.notify("page.leaving", {
                page: d
            }), d.leave(b.leaveCurrent), h()
        }, d = "",
        e = function (a, e) {
            var f, g = c;
            for (f = 0; f < b.length; f++) {
                var h = b[f];
                if (!(h.from !== e.currentPage.key().substring(1) && "*" !== h.from || h.to !== e.nextPage.key().substring(1) && "*" !== h.to) && h.canAnimate(e)) {
                    g = h.transition;
                    break
                }
            }
            d = e.nextPage.key().substring(1), g(e, function () {
                d = ""
            }), e.isHandled = !0
        }, f = function () {
            return {
                pages: {
                    requestPageTransition: e
                },
                pageTransitionAnimation: {
                    getTargetPage: function (a, b) {
                        b || (b = {
                            result: {}
                        }), b.result || (b.result = {}), b.result.pageTransitionAnimation = {}, b.result.pageTransitionAnimation.target = d
                    }
                }
            }
        }, g = function () {
            a(App.root()).append(a('<div id="bg-transition" ></div>'))
        }, h = function (d) {
            var e = a.extend({
                from: "*",
                to: "*",
                transition: c,
                canAnimate: function () {
                    return !0
                }
            }, d);
            "*" === e.from && "*" === e.to ? c = e.transition : b.push(e)
        };
    App.modules.exports("pageTransitionAnimation", {
        init: g,
        actions: f
    }), window.App = a.extend(window.App, {
        transitions: {
            exports: h
        }
    })
}(jQuery),
function (a) {
    "use strict";
    var b = (a(window), a("title", document), {}),
        c = function () {
            b[document.location.pathname] = a("title").text()
        }, d = function (a, c) {
            var d = c.data.match("<title>(.*?)</title>")[1];
            b[c.url] = d
        }, e = function () {
            b[document.location.pathname] && (document.title = b[document.location.pathname])
        }, f = {
            pages: {
                loaded: d
            },
            page: {
                enter: e
            }
        };
    App.modules.exports("titleUpdater", {
        init: c,
        actions: function () {
            return f
        }
    })
}(jQuery),
function (a) {
    "use strict";
    var b = a(window),
        c = "",
        d = "",
        e = "",
        f = {}, g = function () {
            var f = document.location.pathname,
                g = !1,
                h = !1;
            return {
                urlChanged: function () {
                    if (g) g = !1;
                    else {
                        var a = App.pages.page(document.location.hash.substring(1));
                        if (a)
                            if (a.key() == c) {
                                var b = d,
                                    f = document.location.hash.substring(b.length);
                                e != f && (App.mediator.notify("page.fragmentChanged", f), e = f)
                            } else App.mediator.goto(document.location.hash.substring(1))
                    }
                },
                pageEntering: function (b) {
                    "" === d ? h = !0 : (g = !0, b != f ? a.bbq.pushState("#" + b + e) : a.bbq.pushState("#"))
                },
                pageEntered: function () {
                    h && b.trigger("hashchange")
                },
                updateUrlFragment: function () {
                    g = !0, a.bbq.pushState("#" + d + e), g = !1
                }
            }
        }, h = function () {
            var a = !1,
                b = !1;
            return {
                urlChanged: function () {
                    var b = App.pages.page(document.location.pathname);
                    if (b) {
                        if (a = !0, b.key() == c) {
                            var f = document.location.origin + d,
                                g = document.location.href.substring(f.length);
                            e != g && (App.mediator.notify("page.fragmentChanged", g), e = g)
                        } else App.mediator.goto(document.location.pathname);
                        a = !1
                    }
                },
                pageEntering: function (c) {
                    var f = c;
                    "" === d && (b = !0), "" !== d && (f += e, a || history.pushState({}, document.title, c + e))
                },
                pageEntered: function () {
                    b && (e = document.location.href.substring((document.location.protocol + "//" + document.location.host + d).length), App.mediator.notify("page.fragmentChanged", e))
                },
                updateUrlFragment: function () {
                    history.pushState({}, document.title, d + e)
                }
            }
        }, i = {
            hash: g(),
            history: h()
        }, j = i.hash,
        k = function () {
            return a("body").hasClass("fr") ? 0 : 1
        }, l = function (a) {
            return a.page.routes()[k()]
        }, m = function (a, b) {
            var c = a.indexOf("*");
            return c > -1 && (a = a.substring(0, c), b.length > a.length ? (e = b.substring(c), n()) : (e = "", f = {})), a
        }, n = function () {
            var a = e.indexOf("?");
            f = a > -1 ? window.QueryStringParser.parse(e.substring(a)) : {}
        }, o = function (b, e) {
            var f = m(l(e), e.route);
            d != f && (j.pageEntering(f), d = f, c = e.page.key(), a.sendPageView({
                page: e.route
            }))
        }, p = function () {
            j.pageEntered()
        }, q = function () {
            e = "", n()
        }, r = function (a, b) {
            "" !== d && ("object" == typeof b || (e = b, n()), j.updateUrlFragment())
        }, s = function () {
            var a = "",
                b = 0;
            for (var c in f) null !== f[c] && (b > 0 && (a += "&"), a += c + "=" + f[c], b++);
            return a
        }, t = function (b, c) {
            if ("object" == typeof c) {
                a.extend(f, c);
                var d = e.indexOf("?"),
                    g = s(); - 1 === d ? e += "?" + g : e = e.substring(0, d + 1) + g, j.updateUrlFragment()
            }
        }, u = function (b, c) {
            var d = e,
                f = l(c);
            m(f, c.route), j.updateUrlFragment(), e = d, n(), j.urlChanged(), a.sendPageView({
                page: c.route
            })
        }, v = function () {
            j.urlChanged()
        }, w = function () {
            window.history.pushState ? (j = i.history, b.on("popstate", v)) : a.bbq ? (j = i.hash, b.on("hashchange", v)) : App.log({
                fx: "error",
                msg: "Cannot update url : history api and bbq are not found"
            })
        }, x = function () {
            return {
                page: {
                    entering: o,
                    leaving: q,
                    enter: p,
                    updateUrlFragment: r,
                    updateQsFragment: t
                },
                pages: {
                    navigateToCurrent: u
                }
            }
        };
    App.modules.exports("urlChanger", {
        init: w,
        actions: x
    })
}(jQuery),
function (a) {
    "use strict";
    var b = a(window),
        c = function (a) {
            App.mediator.notify("site.resize", null, a)
        }, d = function (a) {
            App.mediator.notify("site.scroll", null, a)
        }, e = function () {
            b.resize(c).scroll(d)
        };
    App.modules.exports("windowNotifier", {
        init: e
    })
}(jQuery),
function (a) {
    "use strict";
    var b, c = 0,
        d = a.mobile ? a.ipad ? 2 : 1 : 3,
        e = a(window),
        f = function (b) {
            var c = a("#site").find("#site-menu-principal-container"),
                d = a("#site").find("#site-sidebar-show-hide-container "),
                e = c.hasClass("closed"),
                f = (e ? .4 * a(window).width() : 0, e ? "removeClass" : "addClass");
            return c[f]("closed"), d[f]("closed"), window.pd(b)
        }, g = function (b, c) {
            var d = c.find(".videos-list-item-preview-container"),
                e = c.find(".videos-list-item-preview");
            !a.mobile && e.length > 0 && (b ? e.jPlayer({
                ready: function () {
                    e.jPlayer("setMedia", {
                        webm: e.attr("data-webm"),
                        ogv: e.attr("data-ogv"),
                        m4v: e.attr("data-mp4")
                    }).jPlayer("play"), setTimeout(function () {
                        e.jPlayer("option", {
                            size: {
                                width: c.css("width"),
                                height: c.css("height")
                            }
                        }), d.delay(300).fadeIn(400)
                    }, 200)
                },
                solution: "html, flash",
                swfPath: "//cdnjs.cloudflare.com/ajax/libs/jplayer/2.3.0/",
                loop: !0,
                volume: 0,
                supplied: "webmv, m4v, ogv",
                backgroundColor: "#000"
            }) : setTimeout(function () {
                d.fadeOut(400, function () {
                    e.jPlayer("destroy")
                })
            }, 200))
        }, h = function (c) {
            a(".menu-item").removeClass("selected"), a.hideVideos(b), a.mobile && (a("#site-menu-principal-container").addClassNoAnim("closed"), b.find(".videos-list-item.featured").removeClass("featured"), a("#site").on("click", "#site-sidebar-show-hide", f)), App.callback(c)
        }, i = function (c) {
            a(".videos-list-item.featured .videos-list-item-preview").jPlayer("destroy"), a.mobile && (a("#site").off("click", "#site-sidebar-show-hide"), b.remove()), App.callback(c)
        }, j = function () {
            a.craf(c), c = a.raf(function () {
                a.resizeAndPositionVideosItems(b.find(".videos-list"), !0, d)
            })
        }, k = function () {
            var c = b.find(".videos-list-nav a.next-page"),
                f = c.attr("href"),
                g = c.data("c-page") ? c.data("c-page") : c.data("cur-page"),
                h = c.data("total-page");
            c.length && h > g && a.win.scrollTop() + a.win.height() > a.getDocHeight() - a.getDocHeight() / 4 && window.Loader.load({
                url: f,
                success: function (c) {
                    var e = b.find(".videos-list"),
                        f = a(".videos-list-item", c),
                        g = e.find(".videos-list-nav a.next-page"),
                        h = parseInt(window.QueryStringParser.parse(g.attr("href")).page, 10);
                    f.length > 0 && (g.data("c-page", h), g.attr("href", "?page=" + (h + 1)), e.append(f), a.resizeAndPositionVideosItems(e, !1, d), a.win.scrollTop(a.win.scrollTop() - 1))
                },
                fail: function () {
                    e.alert("error")
                }
            })
        }, l = function (c) {
            b = a(this.key()), a.mobile ? b.find(".videos-list-item.featured").removeClass("featured") : (a("#site").on("mouseenter", ".videos-list-item.featured", function () {
                g(!0, a(this))
            }), a("#site").on("mouseleave", ".videos-list-item.featured", function () {
                g(!1, a(this))
            })), c && c.firstTime && (a.hideVideos(b), a.resizeAndPositionVideosItems(b.find(".videos-list"), !1, d))
        }, m = function () {
            a.resizeAndPositionVideosItems(b.find(".videos-list"), !0, d)
        }, n = function () {
            a.showVideosByTile(b)
        }, o = {
            site: {
                resize: j,
                scroll: k
            },
            page: {
                beforeEnteringEnd: m,
                enteringEnd: n
            }
        };
    App.pages.exports("accueilPage", {
        init: l,
        enter: h,
        leave: i,
        actions: function () {
            return o
        }
    })
}(jQuery),
function (a) {
    "use strict";
    var b, c, d, e = 656,
        f = 480,
        g = 0,
        h = function () {
            var c, d = function () {
                    var d, e, f = c.data("longitude"),
                        g = c.data("latitude"),
                        h = new google.maps.LatLng(g, f),
                        i = a.mobile ? 19 : 17,
                        j = [{
                            stylers: [{
                                saturation: -100
                            }, {
                                gamma: .77
                            }, {
                                lightness: 29
                            }]
                        }],
                        k = {
                            zoom: i,
                            center: h,
                            mapTypeId: google.maps.MapTypeId.ROADMAP,
                            zoomControl: !0,
                            panControl: !1,
                            streetViewControl: !1,
                            mapTypeControl: !1,
                            scrollwheel: !1,
                            styles: j
                        }, l = a("<h6></h6>").append("Les Enfants"),
                        m = a("<p></p>").append(b.find(".contact-adresse").text()),
                        n = a('<a target="_blank"></a>').append("Itin��raire").attr("href", "http://www.maps.google.com/?daddr=Les%20Enfant%20" + window.encodeURIComponent(a("#contact-map").data("address"))),
                        o = a('<div id="contact-map-info"></div>').append(l).append(m).append(n);
                    c.hasClass("map-loaded") || (d = new google.maps.Map(c.get(0), k), e = new google.maps.Marker({
                        position: h,
                        map: d
                    }), e.infowindow = new google.maps.InfoWindow({
                        content: o[0].outerHTML
                    }), google.maps.event.addListener(e, "click", function () {
                        this.infowindow.open(d, this)
                    }), c.addClass("map-loaded"))
                }, e = function () {
                    c = a("#contact-map-canvas"), d()
                };
            return {
                init: e
            }
        }, i = h(),
        j = function () {
            var a = b.width(),
                d = a * (f / e);
            c.jPlayer({
                ready: function () {
                    c.jPlayer("setMedia", {
                        webmv: c.attr("data-webm"),
                        ogv: c.attr("data-ogv"),
                        m4v: c.attr("data-mp4")
                    }).jPlayer("play"), c.jPlayer("option", {
                        size: {
                            width: a + "px",
                            height: d + "px"
                        }
                    })
                },
                swfPath: "//cdnjs.cloudflare.com/ajax/libs/jplayer/2.3.0/",
                loop: !0,
                volume: g,
                supplied: "webmv, m4v, ogv",
                backgroundColor: "#000"
            })
        }, k = function (b) {
            var c = a("#site").find("#site-menu-principal-container"),
                d = a("#site").find("#site-sidebar-show-hide-container "),
                e = c.hasClass("closed"),
                f = (e ? .4 * a(window).width() : 0, e ? "removeClass" : "addClass");
            return c[f]("closed"), d[f]("closed"), window.pd(b)
        }, l = function (a) {
            return function () {
                g = a ? 1 : 0, c.jPlayer("volume", g)
            }
        }, m = function (b) {
            i.init(), a.mobile ? a("#site").on("click", "#site-sidebar-show-hide", k) : j(), App.callback(b)
        }, n = function (d) {
            c.jPlayer("destroy"), a.mobile && (a("#site").off("click", "#site-sidebar-show-hide"), b.remove()), App.callback(d)
        }, o = function () {
            var a = d.width(),
                b = a * (f / e);
            c.jPlayer("option", {
                size: {
                    width: a + "px",
                    height: b + "px"
                }
            })
        }, p = function () {
            b = a(this.key()), c = a(".contact-video", b), d = a(".contact-video-container", b), c.hover(l(!0), l(!1))
        }, q = {
            site: {
                resize: o
            }
        };
    App.pages.exports("contactPage", {
        init: p,
        enter: m,
        leave: n,
        actions: function () {
            return q
        }
    })
}(jQuery),
function (a) {
    "use strict";
    var b, c = function () {
            b = a(this.key())
        };
    App.pages.exports("defaultPage", {
        init: c
    })
}(jQuery),
function (a) {
    "use strict";
    var b, c, d, e, f, g = !1,
        h = "",
        i = function (a) {
            var b = a.split("/");
            return b[b.length - 2]
        }, j = function (c) {
            var e = b.key() + "-" + h,
                i = b.key() + "-" + c;
            g = !0, a(e).fadeOut(500, function () {
                a(i).fadeIn(500), h = c, f = c, m(), a("a", a(i)).blankLink(), a(".nano", d).nanoScroller()
            })
        }, k = function (e) {
            if (h != e) {
                var f, g = "" !== h,
                    i = function (c) {
                        var f = a(b.key() + "-" + e, c);
                        1 == f.length && (f.hide(), d.append(f), j(e))
                    };
                g ? (f = a(b.key() + "-" + e, c), 0 === f.length ? window.Loader.load({
                    url: document.location.href,
                    success: i,
                    fail: function () {
                        window.alert("error")
                    }
                }) : j(e)) : h = e
            }
        }, l = function (b) {
            var c = a(this);
            e.removeClass("selected"), c.addClass("selected"), window.pd(b)
        }, m = function () {
            var b = a("#page-nouvelles-" + f, c),
                d = b.find(".nouvelles-detail"),
                e = d.data("url-pathname"),
                g = d.data("title");
            window.stWidget && (stWidget.addEntry({
                service: "facebook",
                element: d.find(".nouvelles-detail-facebook")[0],
                url: document.location.protocol + "//" + document.location.host + e,
                type: "custom",
                title: g
            }), stWidget.addEntry({
                service: "twitter",
                element: d.find(".nouvelles-detail-twitter")[0],
                url: document.location.protocol + "//" + document.location.host + e,
                type: "custom",
                title: g
            }))
        }, n = function () {
            c = a(this.key()), b = this, d = a("#page-nouvelles-container", c), e = a(".nouvelles-liste-item", c), e.click(l), a(".nano", d).nanoScroller(), a(".nouvelles-liste .nano").nanoScroller(), c.on("click", ".nouvelles-detail-twitter, .nouvelles-detail-facebook", function (a) {
                return window.pd(a)
            })
        }, o = function (b, c) {
            var d = c ? c : a(".nouvelles-liste .nouvelles-liste-item.selected").attr("href");
            k(i(d))
        }, p = function (b) {
            a("html").addClass("overflow-hidden"), f = a(".nouvelles-liste-item.selected", c).data("title"), m(), App.callback(b)
        }, q = function (b) {
            a("html").removeClass("overflow-hidden"), c.remove(), h = "", App.callback(b)
        }, r = {
            page: {
                fragmentChanged: o
            }
        };
    App.pages.exports("nouvellesPage", {
        init: n,
        enter: p,
        leave: q,
        actions: function () {
            return r
        }
    })
}(jQuery),
function (a) {
    "use strict";
    var b, c, d, e = !1,
        f = "",
        g = 0,
        h = !1,
        i = a(window),
        j = function (b) {
            var d = c.find(".site-menu-secondaire-container"),
                e = a("#site").find("#site-menu-principal-container"),
                f = a("#site").find("#site-sidebar-show-hide-container "),
                g = a("#site-sidebar-arrow-container"),
                h = a("#site-sidebar-home-container"),
                i = d.hasClass("closed") && e.hasClass("closed"),
                j = (i ? .4 * a(window).width() : 0, i ? "removeClass" : "addClass"),
                k = g.find(".link-show-sec"),
                l = g.find(".link-hide-sec");
            return i ? d.transitionEnd(function () {
                e.removeClassNoAnim("closed")
            }, d.selector) : (l.fadeIn(200), k.fadeOut(200), d.hasClass("closed") ? e.addClass("closed") : e.addClassNoAnim("closed")), d[j]("closed"), f[j]("closed"), g[j]("closed"), h[j]("closed"), window.pd(b)
        }, k = function (b) {
            var d = a(this),
                e = a("#site-sidebar-arrow-container"),
                f = e.find(".link-show-sec"),
                g = c.find(".site-menu-secondaire-container"),
                h = a("#site").find("#site-menu-principal-container");
            return h.removeClassNoAnim("closed"), d.fadeOut(200), f.fadeIn(200), g.addClass("closed"), window.pd(b)
        }, l = function (b) {
            var d = a(this),
                e = a("#site-sidebar-arrow-container"),
                f = e.find(".link-hide-sec"),
                g = c.find(".site-menu-secondaire-container");
            return f.fadeIn(200), d.fadeOut(200), g.removeClass("closed"), window.pd(b)
        }, m = function () {
            var a = document.location.pathname.split("/");
            return a.length > 5 ? a[a.length - 3] + "-" + a[a.length - 2] : a[a.length - 2]
        }, n = function (c) {
            var d = b.key() + "-" + f,
                g = b.key() + "-" + c;
            t(), a.mobile && (a(".site-sidebar-menu").addClass("closed"), a("#site-sidebar-arrow-container").addClass("closed"), a("#site-sidebar-home-container").addClass("closed"), a("#site").find("#site-sidebar-show-hide-container ").addClass("closed")), a.scrollTo("0", {
                axis: "y",
                duration: Math.min(1e3, i.scrollTop() + 50),
                onAfter: function () {
                    var b = a(g);
                    e = !0, a(d).fadeOut(800, function () {
                        a.resizeAndPositionVideosItems(b.find(".videos-list"), !1, 1), a.hideVideos(b), b.delay(200).fadeIn(600, function () {
                            b.find("img[data-src-format]").jitImage(), a.showVideosByTile(a(g))
                        }), f = c, u()
                    })
                },
                easing: "easeInOutQuad"
            })
        }, o = function (e) {
            if (f != e) {
                var g, h = "" !== f,
                    i = function (c) {
                        var f = a(b.key() + "-" + e, c);
                        1 == f.length && (f.hide(), d.append(f), n(e))
                    };
                h ? (g = a(b.key() + "-" + e, c), 0 === g.length ? window.Loader.load({
                    url: document.location.href,
                    success: i,
                    fail: function () {
                        window.alert("error")
                    }
                }) : n(e)) : f = e
            }
        }, p = function (b) {
            var c = a(this),
                d = c.closest(".videos-list"),
                e = c.closest(".videos-list-item"),
                f = a(".videos-list-item-detail", e),
                g = a(".videos-list-item-video-container", e);
            t();
            var h = f.height(),
                j = d.find(".videos-list-item.selected"),
                k = e.data().css,
                l = function () {
                    var b = e.nextAll(".videos-list-item");
                    b.each(function (b, c) {
                        var d = a(c),
                            e = d.data().css;
                        d.css({
                            top: parseFloat(e.top) + h + "px"
                        })
                    }), e.css({
                        height: parseFloat(k.height) + h + "px"
                    }).addClass("selected")
                };
            return j.length ? (r(j), l()) : l(), s(g, 800), setTimeout(function () {
                a.scrollTo(e, {
                    axis: "y",
                    duration: Math.min(600, i.scrollTop() + 50),
                    easing: "easeInOutQuad"
                })
            }, 500), window.pd(b)
        }, q = function (b) {
            var c = a(this),
                d = (c.closest(".videos-list"), c.closest(".videos-list-item"));
            return r(d), t(), window.pd(b)
        }, r = function (b) {
            var c = b.nextAll(".videos-list-item"),
                d = !! b.length && b.data().css;
            c.each(function (b, c) {
                var d = a(c),
                    e = d.data().css;
                d.css(e)
            }), b.css(d).removeClass("selected")
        }, s = function (b, c) {
            b.fadeIn(c, function () {
                if (App.modules.notify("loadVideo", b), a.mobile) {
                    var c = b.closest(".videos-list-item");
                    b.find("iframe").css({
                        height: c.data("css").height
                    })
                }
            })
        }, t = function () {
            var b = a(".videos-list-item-video-container", c);
            App.modules.notify("pauseVideo", a(b.selector, c)), b.fadeOut(500, function () {
                a(this).empty()
            })
        }, u = function () {
            var b = f.length > 0 ? a("#page-realisateur-" + f, c) : c,
                d = b.find(".videos-list-item-detail");
            d.each(function () {
                var b = a(this),
                    c = b.data("share-url"),
                    d = b.data("share-title");
                window.stWidget && (stWidget.addEntry({
                    service: "facebook",
                    element: b.find(".item-detail-share-facebook")[0],
                    url: document.location.protocol + "//" + document.location.host + c,
                    type: "custom",
                    title: d
                }), stWidget.addEntry({
                    service: "twitter",
                    element: b.find(".item-detail-share-twitter")[0],
                    url: document.location.protocol + "//" + document.location.host + c,
                    type: "custom",
                    title: d
                }))
            })
        }, v = function (e) {
            c = a(this.key()), b = this, d = a("#page-realisateur-container", c), c.on("click", "a.videos-list-item-link-image", p), c.on("click", ".videos-list-item .item-detail-close", q), c.on("click", ".item-detail-share-facebook, .item-detail-share-twitter", function (a) {
                return window.pd(a)
            }), e && e.firstTime && (h = !0, a.resizeAndPositionVideosItems(c.find(".videos-list"), !1, 1), a("#loading-container").bind("DOMNodeRemoved", function (a) {
                console.log("Removed: " + a.target.nodeName)
            }))
        }, w = function (b) {
            var d = 0 === f.length ? c : a(c.selector + "-" + f);
            a.hideVideos(d), h ? a.showVideosByTile(c) : a.resizeAndPositionVideosItems(d.find(".videos-list"), !1, 1), u(), a.mobile && (a("#site").on("click", "#site-sidebar-show-hide", j), a("#site").on("click", "#site-sidebar-arrow-container .link-hide-sec", k), a("#site").on("click", "#site-sidebar-arrow-container .link-show-sec", l)), App.callback(b)
        }, x = function (b) {
            a.mobile && (a("#site").off("click", "#site-sidebar-show-hide"), a("#site").off("click", "#site-sidebar-arrow-container .link-hide-sec"), a("#site").off("click", "#site-sidebar-arrow-container .link-show-sec")), t(), c.find(".menu-item.selected").removeClass("selected"), setTimeout(function () {
                f = "", a("#page-realisateur").remove()
            }, 500), h = !1, App.callback(b)
        }, y = function () {
            var b = 0 === f.length ? c : a(c.selector + "-" + f);
            a.resizeAndPositionVideosItems(b.find(".videos-list"), !1, 1)
        }, z = function () {
            var b = 0 === f.length ? c : a(c.selector + "-" + f),
                d = b.find(".videos-list-item.selected");
            1 != d.length || h || s(d.find(".videos-list-item-video-container"), 0), a.showVideosByTile(b)
        }, A = function (a, b) {
            o(m(b))
        }, B = function () {
            var b = 0 === f.length ? c : a(c.selector + "-" + f);
            a.craf(g), g = a.raf(function () {
                a.resizeAndPositionVideosItems(b.find(".videos-list"), !1, 1)
            })
        }, C = function () {
            var b = 0 === f.length ? c : a(c.selector + "-" + f),
                d = b.find(".videos-list-nav a.next-page"),
                e = d.attr("href"),
                g = d.data("c-page") ? d.data("c-page") : d.data("cur-page"),
                h = d.data("total-page");
            d.length && h > g && a.win.scrollTop() + a.win.height() > a.getDocHeight() - a.getDocHeight() / 4 && window.Loader.load({
                url: e,
                success: function (b) {
                    var d = 0 === f.length ? c : a(c.selector + "-" + f),
                        e = d.find(".videos-list"),
                        g = a(".videos-list-item", b),
                        h = e.find(".videos-list-nav a.next-page"),
                        i = parseInt(window.QueryStringParser.parse(h.attr("href")).page, 10);
                    g.length > 0 && (h.data("c-page", i), h.attr("href", "?page=" + (i + 1)), e.append(g), a.resizeAndPositionVideosItems(e, !1, 1), a.win.scrollTop(a.win.scrollTop() - 1), u())
                },
                fail: function () {
                    window.alert("error")
                }
            })
        }, D = function () {
            var b = 0 === f.length ? c : a(c.selector + "-" + f),
                d = b.find(".videos-list-item.selected");
            1 == d.length && h && s(d.find(".videos-list-item-video-container"), 0)
        }, E = {
            site: {
                resize: B,
                scroll: C
            },
            page: {
                fragmentChanged: A,
                beforeEnteringEnd: y,
                enteringEnd: z,
                loadingEnd: D
            }
        };
    App.pages.exports("realisateurPage", {
        init: v,
        enter: w,
        leave: x,
        actions: function () {
            return E
        }
    })
}(jQuery),
function (a) {
    "use strict";
    var b, c = 0,
        d = !1,
        e = a.mobile ? a.ipad ? 2 : 1 : 3,
        f = (a(window), function (c) {
            var d = b.find(".site-menu-secondaire-container"),
                e = a("#site").find("#site-menu-principal-container"),
                f = a("#site").find("#site-sidebar-show-hide-container "),
                g = a("#site-sidebar-arrow-container"),
                h = a("#site-sidebar-home-container"),
                i = d.hasClass("closed") && e.hasClass("closed"),
                j = (i ? .4 * a(window).width() : 0, i ? "removeClass" : "addClass"),
                k = g.find(".link-show-sec"),
                l = g.find(".link-hide-sec");
            return i ? d.transitionEnd(function () {
                e.removeClassNoAnim("closed")
            }, d.selector) : (l.fadeIn(200), k.fadeOut(200), d.hasClass("closed") ? e.addClass("closed") : e.addClassNoAnim("closed")), d[j]("closed"), f[j]("closed"), g[j]("closed"), h[j]("closed"), window.pd(c)
        }),
        g = function (c) {
            var d = a(this),
                e = a("#site-sidebar-arrow-container"),
                f = e.find(".link-show-sec"),
                g = b.find(".site-menu-secondaire-container"),
                h = a("#site").find("#site-menu-principal-container");
            return h.removeClassNoAnim("closed"), d.fadeOut(200), f.fadeIn(200), g.addClass("closed"), window.pd(c)
        }, h = function (c) {
            var d = a(this),
                e = a("#site-sidebar-arrow-container"),
                f = e.find(".link-hide-sec"),
                g = b.find(".site-menu-secondaire-container");
            return f.fadeIn(200), d.fadeOut(200), g.removeClass("closed"), window.pd(c)
        }, i = function (c) {
            if (b.find(".menu-item").removeClass("selected"), a.hideVideos(b), d && a.showVideosByTile(b), a.mobile) {
                var e = window.QueryStringParser.parse(window.location.href.substring(window.location.href.indexOf("?")));
                if (a("#site").on("click", "#site-sidebar-show-hide", f), a("#site").on("click", "#site-sidebar-arrow-container .link-hide-sec", g), a("#site").on("click", "#site-sidebar-arrow-container .link-show-sec", h), d && !e.v) {
                    var i = b.find(".site-menu-secondaire-container");
                    i.transitionEnd(function () {
                        a("#site-menu-principal-container").removeClassNoAnim("closed")
                    }, i.selector), i.removeClass("closed"), a("#site-sidebar-show-hide-container").removeClass("closed"), a("#site-sidebar-arrow-container").removeClass("closed"), a("#site-sidebar-home-container").removeClass("closed"), a.positionMenu()
                }
            }
            d = !1, App.callback(c)
        }, j = function (c) {
            a.mobile && (a("#site").off("click", "#site-sidebar-show-hide"), a("#site").off("click", "#site-sidebar-arrow-container .link-hide-sec"), a("#site").off("click", "#site-sidebar-arrow-container .link-show-sec"), b.remove()), App.callback(c)
        }, k = function () {
            a.craf(c), c = a.raf(function () {
                a.resizeAndPositionVideosItems(b.find(".videos-list"), !1, e)
            })
        }, l = function () {
            var c = b.find(".videos-list-nav a.next-page"),
                d = c.attr("href"),
                f = c.data("c-page") ? c.data("c-page") : c.data("cur-page"),
                g = c.data("total-page");
            c.length && g > f && a.win.scrollTop() + a.win.height() > a.getDocHeight() - a.getDocHeight() / 4 && window.Loader.load({
                url: d,
                success: function (c) {
                    var d = b.find(".videos-list"),
                        f = a(".videos-list-item", c),
                        g = d.find(".videos-list-nav a.next-page"),
                        h = parseInt(window.QueryStringParser.parse(g.attr("href")).page, 10);
                    f.length > 0 && (g.data("c-page", h), g.attr("href", "?page=" + (h + 1)), d.append(f), a.resizeAndPositionVideosItems(d, !1, e), a.win.scrollTop(a.win.scrollTop() - 1))
                },
                fail: function () {
                    window.alert("error")
                }
            })
        }, m = function () {
            a.resizeAndPositionVideosItems(b.find(".videos-list"), !1, e), a.positionMenu()
        }, n = function () {
            if (a.showVideosByTile(b), a.mobile) {
                var c = window.QueryStringParser.parse(window.location.href.substring(window.location.href.indexOf("?")));
                if (!c.v) {
                    var d = b.find(".site-menu-secondaire-container");
                    d.transitionEnd(function () {
                        a("#site-menu-principal-container").removeClassNoAnim("closed")
                    }, d.selector), d.removeClass("closed"), a("#site-sidebar-show-hide-container").removeClass("closed"), a("#site-sidebar-arrow-container").removeClass("closed"), a("#site-sidebar-home-container").removeClass("closed")
                }
            }
        }, o = function (c) {
            b = a(this.key()), c && c.firstTime && (d = !0, a.resizeAndPositionVideosItems(b.find(".videos-list"), !1, e))
        }, p = {
            site: {
                resize: k,
                scroll: l
            },
            page: {
                beforeEnteringEnd: m,
                enteringEnd: n
            }
        };
    App.pages.exports("realisateursPage", {
        init: o,
        enter: i,
        leave: j,
        actions: function () {
            return p
        }
    })
}(jQuery),
function (a) {
    "use strict";
    var b, c, d, e = !1,
        f = 0,
        g = !1,
        h = a.mobile ? a.ipad ? 2 : 1 : 3,
        i = !1,
        j = "",
        k = a(window),
        l = function (c) {
            var d = b.find(".site-menu-secondaire-container"),
                e = a("#site").find("#site-menu-principal-container"),
                f = a("#site").find("#site-sidebar-show-hide-container "),
                g = a("#site-sidebar-arrow-container"),
                h = a("#site-sidebar-home-container"),
                i = d.hasClass("closed") && e.hasClass("closed"),
                j = (i ? .4 * a(window).width() : 0, i ? "removeClass" : "addClass"),
                k = g.find(".link-show-sec"),
                l = g.find(".link-hide-sec");
            return i ? d.transitionEnd(function () {
                e.removeClassNoAnim("closed")
            }, d.selector) : (l.fadeIn(200), k.fadeOut(200), d.hasClass("closed") ? e.addClass("closed") : e.addClassNoAnim("closed")), d[j]("closed"), f[j]("closed"), g[j]("closed"), h[j]("closed"), window.pd(c)
        }, m = function (c) {
            var d = a(this),
                e = a("#site-sidebar-arrow-container"),
                f = e.find(".link-show-sec"),
                g = b.find(".site-menu-secondaire-container"),
                h = a("#site").find("#site-menu-principal-container");
            return h.removeClassNoAnim("closed"), d.fadeOut(200), f.fadeIn(200), g.addClass("closed"), window.pd(c)
        }, n = function (c) {
            var d = a(this),
                e = a("#site-sidebar-arrow-container"),
                f = e.find(".link-hide-sec"),
                g = b.find(".site-menu-secondaire-container");
            return f.fadeIn(200), d.fadeOut(200), g.removeClass("closed"), window.pd(c)
        }, o = function (c) {
            var d = null == j.page ? b.selector + "-result" : b.selector + "-result-" + j.page,
                f = null == c.page ? b.selector + "-result" : b.selector + "-result-" + c.page;
            a.mobile && (a(".site-sidebar-menu").addClass("closed"), a("#site-sidebar-arrow-container").addClass("closed"), a("#site").find("#site-sidebar-show-hide-container ").addClass("closed")), a.scrollTo("0", {
                axis: "y",
                duration: Math.min(1e3, k.scrollTop() + 50),
                onAfter: function () {
                    var b = a(f);
                    e = !0, a.hideVideos(b), a.resizeAndPositionVideosItems(b.find(".videos-list"), !1, h), a.sendPageView(), a(d).fadeOut(800, function () {
                        a.resizeAndPositionVideosItems(b.find(".videos-list"), !1, h), b.delay(200).fadeIn(600, function () {
                            b.find("img[data-src-format]").jitImage(), setTimeout(function () {
                                a.showVideosByTile(b), a("a", b).blankLink()
                            }, 100)
                        }), j = c
                    })
                },
                easing: "easeInOutQuad"
            })
        }, p = function (c) {
            if (j != c) {
                var e, f = "" !== j.page,
                    g = function (e) {
                        var f = null == c.page ? a(b.selector + "-result", e) : a(b.selector + "-result-" + c.page, e);
                        1 == f.length && (f.hide(), d.append(f), o(c))
                    };
                f ? (e = null == c.page ? a(b.selector + "-result") : a(b.selector + "-result-" + c.page), 0 === e.length ? window.Loader.load({
                    url: document.location.href,
                    success: g,
                    fail: function () {
                        window.alert("error")
                    }
                }) : o(c)) : j = c
            }
        }, q = function () {
            var c = {
                page: "",
                qs: {}
            }, d = a(b.selector).find(".menu-recherche .menu-item.selected");
            return d.each(function () {
                var b = a(this);
                c.qs[b.closest(".menu-recherche").attr("name")] = b.attr("href").split("=")[1]
            }), c.qs.r && c.qs.m ? c.page = c.qs.r + "-" + c.qs.m : c.qs.r ? (c.page = c.qs.r, c.qs.m = null) : c.qs.m ? (c.page = c.qs.m, c.qs.r = null) : (c.page = null, c.qs.r = null, c.qs.m = null), c
        }, r = function () {
            var a = q();
            j && a.qs != j.qs && s(a)
        }, s = function (a) {
            i || App.modules.notify("page.updateQsFragment", a.qs), i = !1, p(a)
        }, t = function (b) {
            var c = a(this),
                d = c.hasClass("selected"),
                e = c.closest("nav");
            return a(".menu-item", e).removeClass("selected"), d || c.addClass("selected"), r(), window.pd(b)
        }, u = function (e) {
            c = a(this.key() + "-result"), b = a(this.key()), j = q(), d = b.find("#page-recherche-container"), e && e.firstTime && (g = !0, a.resizeAndPositionVideosItems(b.find(".videos-list"), !1, h), a("#site").on("click", ".menu-recherche .menu-item", t))
        }, v = function (c, d) {
            var e = !1,
                f = d.indexOf("?") > -1 ? window.QueryStringParser.parse(d.substring(d.indexOf("?"))) : {};
            a(".menu-recherche .menu-item", b).removeClass("selected"), f.r ? a('.menu-recherche[name="r"] .menu-item').each(function () {
                var b = a(this);
                b.attr("href").split("=")[1] == f.r && (b.addClass("selected"), e = !0)
            }) : j && j.qs.r && (e = !0), f.m ? a('.menu-recherche[name="m"] .menu-item').each(function () {
                var b = a(this);
                b.attr("href").split("=")[1] == f.m && (b.addClass("selected"), e = !0)
            }) : j && j.qs.m && (e = !0);
            var g = q();
            g != j && e && (i = !0, r())
        }, w = function () {
            return j && j.page ? a(b.selector + "-result-" + j.page) : a(b.selector + "-result")
        }, x = function (c) {
            a.mobile && (a("#site").off("click", "#site-sidebar-show-hide"), a("#site").off("click", "#site-sidebar-arrow-container .link-hide-sec"), a("#site").off("click", "#site-sidebar-arrow-container .link-show-sec")), b.empty().remove(), j = null, App.callback(c)
        }, y = function (c) {
            var d = w();
            if (a.hideVideos(d), g && a.showVideosByTile(d), a.mobile && (a("#site").on("click", "#site-sidebar-show-hide", l), a("#site").on("click", "#site-sidebar-arrow-container .link-hide-sec", m), a("#site").on("click", "#site-sidebar-arrow-container .link-show-sec", n), !j.page && g)) {
                var e = b.find(".site-menu-secondaire-container");
                e.transitionEnd(function () {
                    a("#site-menu-principal-container").removeClassNoAnim("closed")
                }, e.selector), e.removeClass("closed"), a("#site-sidebar-show-hide-container").removeClass("closed"), a("#site-sidebar-arrow-container").removeClass("closed"), a("#site-sidebar-home-container").removeClass("closed"), a.positionMenu()
            }
            g = !1, App.callback(c)
        }, z = function () {
            a.resizeAndPositionVideosItems(w().find(".videos-list"), !1, h), a.positionMenu()
        }, A = function () {
            if (a.showVideosByTile(w()), a.mobile && (!j || !j.page)) {
                var c = b.find(".site-menu-secondaire-container");
                a.positionMenu(), c.transitionEnd(function () {
                    a("#site-menu-principal-container").removeClassNoAnim("closed")
                }, c.selector), c.removeClass("closed"), a("#site-sidebar-show-hide-container").removeClass("closed"), a("#site-sidebar-arrow-container").removeClass("closed"), a("#site-sidebar-home-container").removeClass("closed")
            }
        }, B = function () {
            a.craf(f), f = a.raf(function () {
                a.resizeAndPositionVideosItems(w().find(".videos-list"), !1, h)
            })
        }, C = function () {
            var b = w(),
                c = b.find(".videos-list-nav a.next-page"),
                d = c.attr("href"),
                e = c.data("c-page") ? c.data("c-page") : c.data("cur-page"),
                f = c.data("total-page");
            c.length && f > e && a.win.scrollTop() + a.win.height() > a.getDocHeight() - a.getDocHeight() / 4 && window.Loader.load({
                url: d,
                success: function (b) {
                    var c = w(),
                        d = c.find(".videos-list"),
                        e = a(".videos-list-item", b),
                        f = d.find(".videos-list-nav a.next-page"),
                        g = window.QueryStringParser.parse(f.attr("href")),
                        i = parseInt(g.page, 10),
                        j = "",
                        k = "";
                    e.length > 0 && (g.r && (j = "&r=" + g.r), g.m && (k = "&m=" + g.m), f.data("c-page", i), f.attr("href", "?page=" + (i + 1) + j + k), d.append(e), a.resizeAndPositionVideosItems(d, !1, h), a.win.scrollTop(a.win.scrollTop() - 1))
                },
                fail: function () {
                    window.alert("error")
                }
            })
        }, D = {
            site: {
                resize: B,
                scroll: C
            },
            page: {
                fragmentChanged: v,
                beforeEnteringEnd: z,
                enteringEnd: A
            }
        };
    App.pages.exports("recherchePage", {
        init: u,
        leave: x,
        enter: y,
        actions: function () {
            return D
        }
    })
}(jQuery),
function (a) {
    "use strict";
    var b = a(window),
        c = function (c) {
            var d = function (d) {
                var e = d.currentPage,
                    f = d.nextPage,
                    g = a("#site-header"),
                    h = a("#site-footer"),
                    i = a("#site-menu-principal-container"),
                    j = a("#site-pages"),
                    k = a(f.key()),
                    l = a(e.key()),
                    m = l.hasClass("secondary"),
                    n = k.hasClass("secondary"),
                    o = function () {
                        if (App.mediator.notify("page.entering", {
                            page: f,
                            route: d.route
                        }), f.enter(d.enterNext), k.css({
                            opacity: 1,
                            display: "block"
                        }), k.height(), a.mobile) App.mediator.notify("page.beforeEnteringEnd", {
                            page: f,
                            route: d.route
                        }), a(c).fadeOut(800, 0, function () {
                            App.mediator.notify("page.enteringEnd", {
                                page: f,
                                route: d.route
                            })
                        }), l.css({
                            display: "none"
                        });
                        else if (p(), n && m) {
                            var b = l.find(".page-container"),
                                e = l.find(".site-menu-secondaire-container");
                            App.mediator.notify("page.beforeEnteringEnd", {
                                page: f,
                                route: d.route
                            }), b.css({
                                display: "none"
                            }), a(c).fadeOut(800, 0, function () {
                                e.fadeOut(400, function () {
                                    l.css({
                                        display: "none"
                                    }), b.css({
                                        display: ""
                                    }), e.css({
                                        display: ""
                                    })
                                }), App.mediator.notify("page.enteringEnd", {
                                    page: f,
                                    route: d.route
                                })
                            })
                        } else n || m ? j.transitionEnd(function () {
                            App.mediator.notify("page.beforeEnteringEnd", {
                                page: f,
                                route: d.route
                            }), a(c).fadeOut(800, 0, function () {
                                App.mediator.notify("page.enteringEnd", {
                                    page: f,
                                    route: d.route
                                })
                            }), setTimeout(function () {
                                l.css({
                                    display: "none"
                                })
                            }, 50)
                        }, "#site-pages") : (App.mediator.notify("page.beforeEnteringEnd", {
                            page: f,
                            route: d.route
                        }), a(c).fadeOut(800, 0, function () {
                            App.mediator.notify("page.enteringEnd", {
                                page: f,
                                route: d.route
                            })
                        }), l.css({
                            display: "none"
                        }))
                    }, p = function () {
                        var b = n && !m ? "addClass" : "removeClass",
                            c = a(".site-menu-secondaire-container", k),
                            d = a(".site-menu-secondaire-container", l);
                        a.positionMenu(), n && m ? (c.removeClassNoAnim("closed"), c.css({
                            display: "none"
                        }).fadeIn(600), d.fadeOut(600)) : (g[b]("secondary"), h[b]("secondary"), j[b]("secondary"), !n && m ? (i.addClass("close-animation"), d.addClass("close-animation"), d.addClass("closed")) : n && !m && (c.addClassNoAnim("closed"), c.height(), c.removeClass("closed")), i[b]("secondary").height(), c.transitionEnd(function () {
                            c.removeClass("close-animation")
                        }, c.selector), i.transitionEnd(function () {
                            i.removeClass("close-animation")
                        }, i.selector), d.transitionEnd(function () {
                            d.removeClass("close-animation")
                        }, d.selector))
                    }, q = function () {
                        a(c).fadeIn(500, function () {
                            App.mediator.notify("page.leaving", {
                                page: e
                            }), e.leave(d.leaveCurrent), a.raf(o, 16)
                        })
                    };
                a.mobile && (a(".site-sidebar-menu").addClass("closed"), a("#site-sidebar-show-hide-container ").addClass("closed"), a("#site-sidebar-arrow-container").addClass("closed"), a("#site-sidebar-arrow-container .link-hide-sec").css({
                    display: "block"
                }), a("#site-sidebar-arrow-container .link-show-sec").css({
                    display: "none"
                }), a("#site-sidebar-home-container").addClass("closed")), a.scrollTo("0", {
                    axis: "y",
                    duration: Math.min(1e3, b.scrollTop() + 50),
                    onAfter: q,
                    easing: "easeInOutQuad"
                })
            };
            return {
                transition: d
            }
        };
    App.transitions.exports(c("#bg-transition"))
}(jQuery),
function (a) {
    "use strict";
    var b = window.navigator && navigator.userAgent ? navigator.userAgent : !1;
    a.win = a(window), a.unsupported = !a.browser || a.browser.msie && parseInt(a.browser.version, 10) < 9, a.ipad = !! b && b.match(/iPad/i), a.iphone = !! b && b.match(/iPhone/i) || b.match(/iPod/i), a.ios = a.ipad || a.iphone, a.android = !! b && b.match(/Android/i), a.mobile = a.ios || a.android || !! b && (b.match(/mobile/i) || b.match(/phone/i)) || !! document.location.toString().match(/.+\?mobile$/i), a.safari = -1 != navigator.userAgent.indexOf("Safari") && -1 == navigator.userAgent.indexOf("Chrome"), a.ios && a("head").append('<meta name="viewport" content="width=1024, user-scalable=no" />'), a.mobile && a("html").addClass("mobile"), a.android && a("html").addClass("android"), a.iphone && a("html").addClass("iphone"), a.ios && a("html").addClass("ios"), window.console || (window.console = {}, window.console.log = window.console.warn = window.console.error = window.console.info = a.noop), window.history.pushState || (window.history.pushState = a.noop), a.easing.def = a.mobile ? "linear" : "easeInOutQuad", window.pd = function (b, c) {
        return b && (a.isFunction(b.preventDefault) && b.preventDefault(), c === !0 && a.isFunction(b.stopPropagation) && b.stopPropagation()), !1
    }, a.sendPageView = function (b) {
        if (window.ga) {
            var c = {
                page: window.location.pathname + window.location.search,
                location: window.location.href,
                hostname: window.location.hostname
            }, d = b ? a.extend(c, b) : c;
            window.ga("send", "pageview", d)
        }
    }, a.fn.cssNoAnim = function (b) {
        var c = a(this);
        return c.addClass("noanim").css(b).height(), c.removeClass("noanim")
    }, a.fn.addClassNoAnim = function (b) {
        var c = a(this);
        return c.addClass("noanim").addClass(b).height(), c.removeClass("noanim")
    }, a.fn.removeClassNoAnim = function (b) {
        var c = a(this);
        return c.addClass("noanim").removeClass(b).height(), c.removeClass("noanim")
    }, a.raf = function (a, b) {
        var c = window,
            d = c.requestAnimationFrame || c.mozRequestAnimationFrame || c.webkitRequestAnimationFrame || c.msRequestAnimationFrame || c.oRequestAnimationFrame || c.setTimeout;
        return d(a, b)
    }, a.craf = function (a) {
        var b = window,
            c = b.cancelAnimationFrame || b.webkitCancelRequestAnimationFrame || b.mozCancelRequestAnimationFrame || b.oCancelRequestAnimationFrame || b.msCancelRequestAnimationFrame || b.clearTimeout;
        return c(a)
    }, a.event.handle = a.event.dispatch, a.getDocHeight = function () {
        var a = document;
        return Math.max(Math.max(a.body.scrollHeight, a.documentElement.scrollHeight), Math.max(a.body.offsetHeight, a.documentElement.offsetHeight), Math.max(a.body.clientHeight, a.documentElement.clientHeight))
    }
}(jQuery);